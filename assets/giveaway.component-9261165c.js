import{j as e,r as i,_ as y,u as f,f as w,g as b}from"./index-ddfbd658.js";import{u as j}from"./useTitle-d16d7da9.js";const E=({category:t})=>e.jsxs("div",{className:"flex justify-center group absolute",children:[e.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[10%] -rotate-1 group-hover:-translate-x-[75%] group-hover:translate-y-[16%] group-hover:-rotate-[24deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/diva.webp`,alt:"king bag",className:"p-3"})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute rotate-2 group-hover:-translate-x-[25%] group-hover:translate-y-[8%] group-hover:-rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/hero.webp`,alt:"hero notebook",className:"p-3"})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[6%] -rotate-3 group-hover:translate-x-[25%] group-hover:translate-y-[8%] group-hover:rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/magician.webp`,alt:"hero mug",className:"p-3"})}),e.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute translate-x-[10%] translate-y-[3%] rotate-[5deg] group-hover:translate-x-[75%] group-hover:translate-y-[16%] group-hover:rotate-[24deg] time-curve grid place-items-center overflow-hidden select-none will-change-transform",children:e.jsx("img",{src:`images/${t}/king.webp`,alt:"real stick",className:"p-3"})})]}),N=i.lazy(()=>y(()=>import("./lottery.component-9790d999.js"),["assets/lottery.component-9790d999.js","assets/index-ddfbd658.js","assets/index-1207f3df.css","assets/lottery.component-171d1d7a.css"])),S={overlay:!1,activeCard:0,sound:{error:!1,win:!1},isDisabled:!1},_=(t,r)=>{switch(r.type){case"SET_OVERLAY":return{...t,overlay:!t.overlay};case"SET_ACTIVE_CARD":return{...t,activeCard:r.payload};case"SET_SOUND":return{...t,sound:r.payload};case"SET_DISABLED":return{...t,isDisabled:r.payload};default:return t}},l=["t-shirt","bag","notebook","mug"],D=()=>{const[t,r]=i.useReducer(_,S),{overlay:g,activeCard:n,sound:u,isDisabled:d}=t,p=i.useRef(null),[o]=f(["giveaway","products"]);j("giveaway");const c=(a=!1,s=!1)=>{r({type:"SET_SOUND",payload:{error:a,win:s}})},h=()=>{r({type:"SET_OVERLAY"})},v=a=>{a.preventDefault();const s=p.current,x=s.secret.value;x==="9999"||x==="٩٩٩٩"?(r({type:"SET_OVERLAY"}),s.reset()):r({type:"SET_SOUND",payload:{error:!0,win:!1}})},m=a=>{r({type:"SET_DISABLED",payload:!0}),setTimeout(()=>{r({type:"SET_DISABLED",payload:!1})},320);const s=a==="next"?(t.activeCard+1)%l.length:(t.activeCard-1+l.length)%l.length;r({type:"SET_ACTIVE_CARD",payload:s})};return e.jsxs("article",{className:"contain py-6 mx-auto relative",children:[e.jsx("h1",{className:"dark:text-yellow text-purple text-center mx-auto ltr:font-bold ltr:text-lg rtl:text-2xl center mb-6 max-w-md h-7",children:o("title")}),e.jsxs("div",{className:"max-w-xs mx-auto",children:[e.jsx("div",{className:"flex justify-center",children:l.map((a,s)=>e.jsx("span",{className:`will-change-transform ease-linear duration-[400ms] ${s!==n?"scale-0":""} ${s===(n+1)%l.length?"-translate-x-20 translate-y-24 scale-0":""} ${s===(n-1+l.length)%l.length?"translate-x-20 translate-y-24 scale-0":""}`,children:e.jsx(E,{category:a})},a))}),e.jsxs("div",{className:"mt-48 mb-8 flex justify-around rtl:flex-row-reverse px-10",children:[e.jsx(w,{className:`text-3xl dark:text-yellow text-purple dark:hover:text-yellow/80 hover:text-purple/80 cursor-pointer ${d?"pointer-events-none":""}`,onClick:()=>m("prev")}),e.jsx(b,{className:`text-3xl dark:text-yellow text-purple dark:hover:text-yellow/80 hover:text-purple/80 cursor-pointer ${d?"pointer-events-none":""}`,onClick:()=>m("next")})]})]}),e.jsxs("form",{ref:p,onSubmit:v,className:"max-w-md mx-auto",children:[["name","email","phone","secret"].map(a=>e.jsx("input",{type:a==="email"?"email":"text",name:a,placeholder:o(`form.${a}`),className:"form-input mb-4"},a)),e.jsx("button",{id:"win-btn",className:"form-button w-full cursor-pointer",children:o(o("form.submit"))})]}),g&&e.jsx(N,{categories:l,handleSound:c,setOverlay:h}),u.error&&e.jsx("audio",{src:"sounds/error.mp3",autoPlay:!0,onEnded:()=>c(!1)}),u.win&&e.jsx("audio",{src:"sounds/win.mp3",autoPlay:!0,onEnded:()=>c(void 0,!1)})]})};export{D as default};
