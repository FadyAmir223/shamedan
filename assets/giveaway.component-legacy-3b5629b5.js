System.register(["./index-legacy-07ae37ea.js","./useTitle-legacy-753332a2.js"],(function(e,t){"use strict";var a,r,s,l,o,n,c,i,u;return{setters:[e=>{a=e.j,r=e.I,s=e.r,l=e._,o=e.u,n=e.f,c=e.g,i=e.R},e=>{u=e.u}],execute:function(){const d=({category:e})=>a.jsxs("div",{className:"flex justify-center group absolute",children:[a.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[10%] -rotate-1 group-hover:-translate-x-[75%] group-hover:translate-y-[16%] group-hover:-rotate-[24deg] time-curve grid place-items-center select-none will-change-transform",children:a.jsx(r,{src:`images/${e}/diva.webp`,alt:"king bag",className:"p-3"})}),a.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute rotate-2 group-hover:-translate-x-[25%] group-hover:translate-y-[8%] group-hover:-rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:a.jsx(r,{src:`images/${e}/hero.webp`,alt:"hero notebook",className:"p-3"})}),a.jsx("div",{className:"w-28 aspect-[5/7] bg-yellow rounded-lg absolute -translate-x-[6%] -rotate-3 group-hover:translate-x-[25%] group-hover:translate-y-[8%] group-hover:rotate-[8deg] time-curve grid place-items-center select-none will-change-transform",children:a.jsx(r,{src:`images/${e}/magician.webp`,alt:"hero mug",className:"p-3"})}),a.jsx("div",{className:"w-28 aspect-[5/7] bg-purple rounded-lg absolute translate-x-[10%] translate-y-[3%] rotate-[5deg] group-hover:translate-x-[75%] group-hover:translate-y-[16%] group-hover:rotate-[24deg] time-curve grid place-items-center overflow-hidden select-none will-change-transform",children:a.jsx(r,{src:`images/${e}/king.webp`,alt:"real stick",className:"p-3"})})]}),m=s.lazy((()=>l((()=>t.import("./lottery.component-legacy-7ef2c458.js")),void 0))),p=["t-shirt","bag","notebook","mug"],g={overlay:!1,activeCard:0,sound:{error:!1,win:!1},isDisabled:!1},x=(e,t)=>{switch(t.type){case"SET_OVERLAY":return{...e,overlay:!e.overlay};case"SET_ACTIVE_CARD":return{...e,activeCard:t.payload};case"SET_SOUND":return{...e,sound:t.payload};case"SET_DISABLED":return{...e,isDisabled:t.payload};default:return e}};e("default",(()=>{const[e,t]=s.useReducer(x,g),{overlay:r,activeCard:l,sound:y,isDisabled:v}=e,h=s.useRef(null),[w]=o(["giveaway","products"]);u("giveaway");const j=(e=!1,a=!1)=>{t({type:"SET_SOUND",payload:{error:e,win:a}})},b=a=>{t({type:"SET_DISABLED",payload:!0}),setTimeout((()=>{t({type:"SET_DISABLED",payload:!1})}),300);const r="next"===a?(e.activeCard+1)%p.length:(e.activeCard-1+p.length)%p.length;t({type:"SET_ACTIVE_CARD",payload:r})};return a.jsxs("article",{className:"contain py-6 mx-auto relative",children:[a.jsx("h1",{className:"text-yellow text-center mx-auto ltr:font-bold ltr:text-lg rtl:text-2xl center mb-6 max-w-md h-7",children:w("title")}),a.jsxs("div",{className:"max-w-xs mx-auto",children:[a.jsx("div",{className:"flex justify-center",children:p.map(((e,t)=>a.jsx("span",{className:`will-change-transform transition-transform ease-linear duration-[400ms] ${t!==l?"scale-0":""} ${t===(l+1)%p.length?"-translate-x-20 translate-y-24 scale-0":""} ${t===(l-1+p.length)%p.length?"translate-x-20 translate-y-24 scale-0":""}`,children:a.jsx(d,{category:e})},e)))}),a.jsxs("div",{className:"mt-48 mb-8 flex justify-around rtl:flex-row-reverse px-10",children:[a.jsx(n,{className:"text-3xl text-yellow hover:text-yellow/80 cursor-pointer "+(v?"pointer-events-none":""),onClick:()=>b("prev")}),a.jsx(c,{className:"text-3xl text-yellow hover:text-yellow/80 cursor-pointer "+(v?"pointer-events-none":""),onClick:()=>b("next")})]})]}),a.jsxs("form",{ref:h,onSubmit:e=>{e.preventDefault();const a=h.current,r=a.secret.value;"9999"===r||"٩٩٩٩"===r?(t({type:"SET_OVERLAY"}),a.reset()):t({type:"SET_SOUND",payload:{error:!0,win:!1}})},className:"max-w-md mx-auto",children:[["name","email","phone","secret"].map((e=>a.jsx("input",{type:"email"===e?"email":"text",name:e,placeholder:w(`form.${e}`),className:"form-input mb-4"},e))),a.jsx("button",{className:"form-button w-full cursor-pointer",children:w(w("form.submit"))})]}),r&&a.jsx(m,{categories:p,handleSound:j,setOverlay:()=>{t({type:"SET_OVERLAY"})}}),a.jsx(i,{src:"sounds/error.mp3",playing:y.error,onEnd:()=>j(!1)}),a.jsx(i,{src:"sounds/win.mp3",playing:y.win,onEnd:()=>j(void 0,!1)})]})}))}}}));
